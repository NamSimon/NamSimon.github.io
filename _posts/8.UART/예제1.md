
```c
#include <avr/io.h>

void txd(char ch);
unsigned char rxd(void);

int main(void)
{
	unsigned char ch;
	DDRE = 0x02;
	UCSR0A = 0x00; UCSR0B = 0x18; UCSR0C = 0x06;
	UBRR0H = 0; UBRR0L = 0x67;
	while(1) {
		ch = rxd();
		txd(ch);
	}
}

void txd(char ch)
{
	while(!(UCSR0A & 0x20)); // UDRE0=1 ?(전송데이터 empty?)
	UDR0 = ch;
} /* 1 byte data를 전송 */


unsigned char rxd(void)
{
	unsigned char ch;
	while(!(UCSR0A & 0x80)); // RXC0=1 ?(수신완료 ?)
	ch = UDR0;
	return ch;
} /* 1 byte data를 수신 */

```